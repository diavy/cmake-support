MESSAGE(STATUS "FindGitSubmodule.cmake")
IF(IS_DIRECTORY ".git")
  IF(NOT EXISTS ".git/SKIP_SUBMODULE_UPDATE")
    FIND_PROGRAM(GIT_EXECUTABLE git)
    IF(GIT_EXECUTABLE)
      EXECUTE_PROCESS(COMMAND ${GIT_EXECUTABLE} "submodule" "init")
      EXECUTE_PROCESS(COMMAND ${GIT_EXECUTABLE} "submodule" "update")
      EXECUTE_PROCESS(COMMAND ${GIT_EXECUTABLE} "submodule"
      OUTPUT_VARIABLE GIT_SUBMODULE_STATUS)
      MESSAGE(STATUS "Updating git submodules ")
      MESSAGE(${GIT_SUBMODULE_STATUS})
    ELSE(GIT_EXECUTABLE)
      MESSAGE("WARNING: Could not find git binary, submodules not updated")
    ENDIF(GIT_EXECUTABLE)
  ENDIF(NOT EXISTS ".git/SKIP_SUBMODULE_UPDATE")
ENDIF(IS_DIRECTORY ".git")

